<DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="/style.css">
    <title>Document</title>
</head>
<body>
    <nav>
      {{!-- <h4>Node MySQL</h4> --}}
      <ul>
        <li><a href="/search">Search</a></li>
        <li><a href="/share">Share</a></li>
        <li><a href="/trips">Trips</a></li>
      </ul>
      <ul>
      <li><a href="/">Home</a></li>
      <li><a href="/logout">Logout</a></li>
      </ul>
    </nav>

    <div class="container-fluid" >
    <div class="row-fluid">
      <div id="search-bar">
        <!--Sidebar content-->
        <form class="form-horizontal well" id="search"  action="/auth/search" method="post">
        <fieldset>
          <div class="control-group" id="search-route">
            <!-- From -->
            <div class="control-group">
              <label class="control-label">From</label>
              <div class="controls">
                <input required class="input-xlarge" name = "src" id="search-from" type="text" placeholder="Type the name of a place or address over here">
              </div>
            </div>

            <!-- To -->
            <div class="control-group">
              <label class="control-label">To</label>
              <div class="controls">
                <input required class="input-xlarge" name= "dst" id="search-to" type="text" placeholder="Type the name of a place or address over here">
              </div>
            </div>
          </div>

          <!-- Departure Date -->
          <div class="control-group" id="search-departure">
            <label class="control-label">Date</label>
            <div class="controls">
              <div class="input-append date" id="search-departure-date">
               {{!-- <input class="span8" size="16" type="text" >
                 <span class="add-on"><i class="fas fa-calendar-week"></i></span> --}}
                 <input type="date" value="19-11-2021" name='date'>
              </div>
            </div>
          </div>

          <!-- Departure Time -->
          <div class="control-group" id="search-departure">
            <label class="control-label">Time</label>
            <div class="controls">
              <div class="input-append time" id="search-departure-time">
               {{!-- <input class="span8" size="16" type="text" >
                 <span class="add-on"><i class="fas fa-calendar-week"></i></span> --}}
                 <input type="time" name='time' value="22:00">
              </div>
            </div>
          </div>
        
          <!-- Women Only -->
          {{!-- <div class="control-group" >
           <label class="checkbox">
            <div class="controls">
             <input type="checkbox" id="search-women-only" name="womenCheck"> Women Only
             </div>
           </label>
          </div> --}}

         <!-- Search Button -->
         <br>
         <div class="form-actions" >
           <button type="submit" id="search-button" class="btn btn-primary"><i class="fas fa-search"></i>Search</button>
         </div>
         </fieldset>
         </form>
        
        </><!-- End Sidebar Content -->
        <div class="well" id="search-results">
          <h4>Search Results</h4>
          <div>
            {{#if results}}
            <form action='trips' method="post">
            <table class = 'table table-stripped'>
            <thead>
              <tr>
                <th> id</th>
                <th> From </th>
                <th> To </th>
                <th> date</th>
                <th> time</th>
                {{!-- <th> Select Ride</th> --}}
                {{!-- <th> women</th> --}}
              </tr>
            </thead>
            {{#each results}}
            <tr>
              <td>{{this.id}}</td>
              <td> {{this.source}} </td>
               <td> {{this.destination}} </td>
               <td>{{this.date}}</td>
               <td> {{this.time}}</td>
               <td><button type="submit" class="btn" name="tripId" value="{{this.id}}">Request</input></td>
              <!-- no need to know which user clicked the button because it's in the session.userId --> 
              <!-- I can't use id attr with td tag --> 
            </tr>
            {{/each}}
              </table>
              </form>
            {{/if}}
            {{#if message}}
              <h4 class="alert alert-danger mt-4">{{message}}</h4>
            {{/if}}
          </div>
        </div>
      </div>
      <div id="map_canvas" class="well"><iframe src="https://www.google.com/maps/embed?pb=!1m46!1m12!1m3!1d168622.10883073!2d35.453876077395094!3d34.00339522897481!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!4m31!3e0!4m5!1s0x151f5b485f22ba8b%3A0xb777d642de56b49a!2sLebanese%20American%20University%2C%20Byblos%20Campus%2C%20Blat%2C%20Lebanon!3m2!1d34.1155614!2d35.6744347!4m5!1s0x151f40c4257f7eb9%3A0x622d4edf2e7a984!2sJounieh!3m2!1d33.9842691!2d35.6344491!4m5!1s0x151f3e4a4572f34d%3A0x4ee3be3225585790!2sDbayeh!3m2!1d33.932915099
      999995!2d35.5892181!4m5!1s0x151f161f0aa9914d%3A0xa6f1ae4656c9b344!2sDawra%20Beirut%2C%20Antelias!3m2!1d33.8927
      535!2d35.5535806!4m5!1s0x151f173f47be4635%3A0x349f1309de2404f4!2sCola%20Station%20-%20Total%2C%20Beirut!3m2!1d
      33.8751433!2d35.4954074!5e0!3m2!1sen!2slb!4v1637333355600!5m2!1sen!2slb" 
      width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy"></iframe></div>
    </div>
  </div>
  
    {{!-- <script src="script1.js"></script> --}}
</body>
{{!-- <script src="https://kit.fontawesome.com/9d0a2a2124.js" crossorigin="anonymous"></script> --}}
<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=true&libraries=places"></script>

</html>